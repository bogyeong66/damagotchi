<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚´ ì†ì•ˆì˜ ë‹¤ë§ˆê³ ì¹˜</title>
    <style>
        /* CSS: ê²Œì„ì˜ ë””ìì¸ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤ */
        body {
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background-color: #ffefd5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .game-card {
            background: white;
            border: 8px solid #ff9f43;
            border-radius: 50px;
            padding: 30px;
            width: 320px;
            box-shadow: 0 10px 0 #ee5253;
            text-align: center;
        }

        #pet {
            font-size: 100px;
            margin: 20px 0;
            display: block;
            transition: transform 0.2s;
        }

        .stats-container {
            background: #f1f2f6;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-weight: bold;
        }

        .progress-bar {
            width: 150px;
            height: 15px;
            background: #dfe4ea;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            width: 100%;
            background: #2ed573;
            transition: width 0.3s;
        }

        .buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        button {
            padding: 15px;
            font-size: 16px;
            border: none;
            border-radius: 15px;
            background: #ff9f43;
            color: white;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 0 #e67e22;
        }

        button:active {
            box-shadow: none;
            transform: translateY(4px);
        }

        button:disabled {
            background: #ccc;
            box-shadow: none;
            cursor: not-allowed;
        }

        #msg {
            margin-top: 15px;
            color: #57606f;
            font-style: italic;
            height: 20px;
        }
    </style>
</head>
<body>

<div class="game-card">
    <h2 style="margin-top:0; color:#ff9f43;">TAMAGOTCHI</h2>
    
    <div id="pet">ğŸ£</div>

    <div class="stats-container">
        <div class="stat-row">
            <span>ë°°ë¶€ë¦„</span>
            <div class="progress-bar"><div id="hunger-bar" class="progress-fill"></div></div>
        </div>
        <div class="stat-row">
            <span>í–‰ë³µë„</span>
            <div class="progress-bar"><div id="happy-bar" class="progress-fill" style="background:#1e90ff;"></div></div>
        </div>
    </div>

    <div class="buttons">
        <button onclick="action('feed')">ğŸ ë°¥ì£¼ê¸°</button>
        <button onclick="action('play')">ğŸ§¸ ë†€ì•„ì£¼ê¸°</button>
        <button onclick="action('sleep')">ğŸ’¤ ì ìê¸°</button>
        <button onclick="location.reload()" id="restart" style="display:none; background:#ff4757; box-shadow: 0 4px 0 #c0392b;">ë‹¤ì‹œ ì‹œì‘</button>
    </div>

    <p id="msg">ë‚˜ë¥¼ ì˜ ë³´ì‚´í´ì¤˜!</p>
</div>

<script>
    /* JavaScript: ê²Œì„ì˜ ê·œì¹™ê³¼ ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤ */
    let hunger = 100;
    let happiness = 100;
    let age = 0;
    let isDead = false;

    // ìƒíƒœ ë°” ë° ì´ëª¨ì§€ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
    const hungerBar = document.getElementById('hunger-bar');
    const happyBar = document.getElementById('happy-bar');
    const pet = document.getElementById('pet');
    const msg = document.getElementById('msg');
    const restartBtn = document.getElementById('restart');

    // 2ì´ˆë§ˆë‹¤ ìƒíƒœ ê°ì†Œ
    const loop = setInterval(() => {
        if (!isDead) {
            hunger -= 4;
            happiness -= 3;
            age += 1;
            updateUI();
            checkGameOver();
        }
    }, 2000);

    function updateUI() {
        hungerBar.style.width = hunger + "%";
        happyBar.style.width = happiness + "%";

        // ìƒíƒœì— ë”°ë¥¸ í‘œì • ë³€í™”
        if (hunger < 30 || happiness < 30) {
            pet.innerText = "ğŸ˜­";
            msg.innerText = "ìƒíƒœê°€ ì•ˆ ì¢‹ì•„ìš”...";
        } else if (age > 50) {
            pet.innerText = "ğŸ“"; // ì–´ëŠ ì •ë„ í¬ë©´ ë‹­ìœ¼ë¡œ ì„±ì¥
            msg.innerText = "ë‹¤ ì»¸ì–´ìš”!";
        } else {
            pet.innerText = "ğŸ¥";
            msg.innerText = "ê¸°ë¶„ì´ ì•„ì£¼ ì¢‹ì•„ìš”!";
        }
    }

    function action(type) {
        if (isDead) return;

        if (type === 'feed') {
            hunger = Math.min(hunger + 20, 100);
            msg.innerText = "ë§›ìˆì–´! ëƒ ëƒ !";
            animatePet('scale(1.2)');
        } else if (type === 'play') {
            happiness = Math.min(happiness + 20, 100);
            msg.innerText = "ì‹ ë‚œë‹¤! í•˜í•˜í•˜!";
            animatePet('rotate(20deg)');
        } else if (type === 'sleep') {
            hunger = Math.max(hunger - 10, 0);
            happiness = Math.min(happiness + 30, 100);
            msg.innerText = "ì¿¨ì¿¨... ì˜ ì¤ë‹¤!";
            pet.innerText = "ğŸ˜´";
        }
        updateUI();
    }

    function animatePet(transformValue) {
        pet.style.transform = transformValue;
        setTimeout(() => pet.style.transform = 'scale(1)', 300);
    }

    function checkGameOver() {
        if (hunger <= 0 || happiness <= 0) {
            isDead = true;
            clearInterval(loop);
            pet.innerText = "ğŸ‘»";
            msg.innerText = "í•˜ëŠ˜ë‚˜ë¼ë¡œ ë– ë‚¬ìŠµë‹ˆë‹¤...";
            hungerBar.style.width = "0%";
            happyBar.style.width = "0%";
            
            // ì¼ë°˜ ë²„íŠ¼ ìˆ¨ê¸°ê³  ì¬ì‹œì‘ ë²„íŠ¼ ë³´ì´ê¸°
            document.querySelectorAll('.buttons button').forEach(btn => btn.style.display = 'none');
            restartBtn.style.display = 'block';
        }
    }
</script>

</body>
</html>
